# 🐉 龙族传说 - AI Agent 冒险游戏

一个展示 AI Agent 三种核心能力的互动式游戏，通过引人入胜的故事情节和游戏体验，演示 **任务拆分**、**工具选择**、**思维链推理** 等关键 AI 能力。

![游戏截图](/assets/screenshot_1.png)

## 🎮 游戏特色

### 🧠 AI Agent 三大核心能力

1. **任务拆分 (Task Decomposition)**

   - 将复杂目标分解为可执行的子任务
   - 智能分析前置条件和执行顺序
   - 动态调整策略以适应不同情况

2. **工具选择 (Tool Selection)**

   - 基于目标和环境智能选择最佳装备
   - 分析工具属性与敌人弱点的匹配度
   - 提供多选项让玩家验证 AI 推理结果

3. **思维链推理 (Chain of Thought)**
   - 逐步展示 AI 的思考过程
   - 透明化决策逻辑和推理链条
   - 帮助理解 AI 如何分析复杂问题

### 🎯 游戏玩法

- **故事背景**：在古老的魔法大陆上，四条强大的龙族统治着不同领域，玩家需要集齐三把神秘钥匙挑战最终 Boss
- **区域探索**：访问不同区域获得装备和经验值
  - 🔥 练级圣地：升级 10 级 + 获得火焰之剑
  - 🌿 剧毒深渊：获得黑暗之剑
  - ⚡ 雷霆内部：获得圣光盾
  - ❄️ 寒冰群峰：获得寒冰之剑
- **Boss 挑战**：挑战四大龙族，触发 AI 能力演示
  - 🧊 冰龙：需要火焰之剑，获得冰钥匙
  - ☠️ 毒龙：需要圣光盾，获得毒钥匙
  - ⚡ 雷龙：需要黑暗之剑，获得雷钥匙
  - 🔥 火龙大魔王：需要三把钥匙，最终决战

## 🚀 快速开始

### 环境要求

- Node.js 14+
- npm 或 yarn
- （可选）DeepSeek API 密钥

### 安装步骤

1. **克隆项目**

   ```bash
   git clone <repository-url>
   cd agent-demo
   ```

2. **安装依赖**

   ```bash
   npm install
   ```

3. **配置环境变量**

   ```bash
   # 复制环境变量模板
   cp env.example .env

   # 编辑 .env 文件，填入你的 DeepSeek API 密钥
   # DEEPSEEK_API_KEY=your_actual_api_key_here
   ```

4. **启动服务器**

   ```bash
   npm start
   ```

5. **访问游戏**
   打开浏览器访问 `http://localhost:3001`

### 获取 DeepSeek API 密钥

1. 访问 [DeepSeek 平台](https://platform.deepseek.com/)
2. 注册账号并登录
3. 在 API 管理页面创建新的 API 密钥
4. 将密钥填入 `.env` 文件中

> **注意**：如果没有配置 API 密钥，游戏将使用本地模拟模式，仍然可以体验完整的游戏流程。

## 🎨 界面展示

### 主界面

- **左侧面板**：角色状态、装备、可访问区域、可挑战 Boss
- **右侧区域**：故事背景、AI 思维展示、工具选择界面
- **响应式设计**：支持桌面端和移动端

### AI 能力展示

- **思维过程可视化**：实时显示 AI 的分析步骤
- **工具选择界面**：多选项验证 AI 推荐
- **任务分解展示**：清晰的目标和步骤规划

## 🛠️ 技术架构

### 前端

- **Pure JavaScript**：无框架依赖，原生实现
- **CSS3**：现代 UI 设计，渐变色彩和动画效果
- **响应式布局**：Grid + Flexbox 布局

### 后端

- **Node.js + Express**：轻量级服务器
- **DeepSeek API 集成**：真实 AI 推理能力
- **本地 Fallback**：API 不可用时的降级方案

### 游戏逻辑

- **状态管理**：完整的游戏状态追踪
- **事件驱动**：基于用户交互的游戏流程
- **AI 集成**：无缝集成三种 AI 能力

## 📁 项目结构

```
agent-demo/
├── assets/                 # 游戏素材
│   ├── *.webp             # 角色和装备图片
│   ├── *.jpeg             # 场景图片
│   └── *.png              # 图标资源
├── public/                # 前端文件
│   ├── index.html         # 游戏主页面
│   └── game.js           # 游戏核心逻辑
├── services/              # 后端服务
│   ├── aiAgent.js        # AI Agent 核心服务
│   └── gameState.js      # 游戏状态管理
├── server.js             # Express 服务器
├── package.json          # 项目配置
├── env.example          # 环境变量模板
└── README.md           # 项目说明
```

## 🔧 API 接口

### AI Agent 接口

- `POST /api/ai/tasks` - 任务拆分
- `POST /api/ai/tools` - 工具选择
- `POST /api/ai/ask` - 思维链推理

### 游戏状态接口

- `GET /api/game/state/:sessionId` - 获取游戏状态
- `POST /api/game/action` - 执行游戏动作
- `POST /api/game/reset/:sessionId` - 重置游戏

### 系统状态

- `GET /api/status` - API 状态检查
- `GET /health` - 健康检查

## 🎓 学习价值

### AI Agent 能力理解

- **任务分解**：学习如何将复杂问题分解为简单步骤
- **工具使用**：理解 AI 如何选择和使用不同工具
- **推理过程**：观察 AI 的思维链条和决策逻辑

### 游戏化学习

- **互动体验**：通过游戏互动加深理解
- **即时反馈**：实时查看 AI 的分析结果
- **情境应用**：在具体场景中体验 AI 能力

### 技术实现

- **API 集成**：学习如何集成第三方 AI 服务
- **前后端交互**：理解完整的 Web 应用架构
- **状态管理**：掌握复杂应用的状态管理

## 🐛 故障排除

### 常见问题

1. **API 调用失败**

   - 检查网络连接
   - 验证 API 密钥是否正确
   - 查看控制台错误信息

2. **游戏界面异常**

   - 清除浏览器缓存
   - 检查浏览器兼容性
   - 查看开发者工具中的错误信息

3. **服务器启动失败**
   - 检查端口是否被占用
   - 确认 Node.js 版本
   - 重新安装依赖

### 调试模式

启动开发模式以获得详细的调试信息：

```bash
NODE_ENV=development npm start
```

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

### 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交改动
4. 推送到分支
5. 创建 Pull Request

## 📄 许可证

本项目基于 MIT 许可证开源。

## 🙏 致谢

- **DeepSeek**：提供强大的 AI 推理能力
- **游戏素材**：感谢各位艺术家提供的精美素材
- **开源社区**：感谢所有依赖库的贡献者

---

<div align="center">

**🎮 开始你的 AI 冒险之旅吧！**

[在线演示](http://localhost:3001) | [问题反馈](../../issues) | [功能建议](../../discussions)

</div>
